(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{50:function(e,t,s){"use strict";s.r(t);var a={props:{deleteDialog:Boolean,user:Object},data:function(){return{loading:!1}},methods:{closeDialog:function(){this.$emit("closeDialog")},deleteItem:function(){var e=this;this.loading=!0,axios.delete("customers/".concat(this.user.id)).then((function(t){e.$emit("closeDialog"),e.$emit("userDeleted"),e.loading=!1}))}}},r=s(0),l=Object(r.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{"max-width":"290"},on:{"click:outside":e.closeDialog},model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}},[s("v-card",{attrs:{loading:e.loading}},[s("v-card-title",{staticClass:"headline"},[e._v("Διαγραφή Χρήστη")]),e._v(" "),s("v-card-text",[e._v("Είστε σίγουροι ότι θέλετε να διαγράψετε τον χρήστη "+e._s(e.user.name)+"?")]),e._v(" "),s("v-card-actions",[s("v-spacer"),e._v(" "),s("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.closeDialog()}}},[e._v("Ακυρωση")]),e._v(" "),s("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return e.deleteItem()}}},[e._v("διαγραφη")])],1)],1)],1)}),[],!1,null,null,null).exports,o=s(6),i={props:{dialog:Boolean,user:Object},components:{customerDetails:o.a},data:function(){return{}},methods:{closeDialog:function(){this.$emit("closeDialog")}}},c=Object(r.a)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-dialog",{attrs:{"max-width":"800px"},on:{"click:outside":e.closeDialog},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[s("customer-details",{attrs:{customer_id:e.user.id}})],1)}),[],!1,null,null,null).exports,n=s(2);function u(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function m(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var d={components:{deleteCustomerDialog:l,editCustomerDialog:c},data:function(){return{dialog:!1,snackbar:!1,deleteDialog:!1,loading:!1,searchQuery:{},fitleredCustomers:[],cities:[],brandTypes:[],sellerTypes:[],users:[],search:"",headers:[{text:"Όνομα",align:"left",value:"name"},{text:"Εmail",value:"email"},{text:"Διεύθυνση",value:"address"},{text:"Τηλέφωνο",value:"mobile"},{text:"Υπεύθυνος",value:"responsible"},{text:"Πόλη",value:"city.name"},{text:"Ενέργειες",value:"action",align:"right",sortable:!1,width:135}],editedItem:{}}},methods:{editItem:function(e){this.editedItem=Object.assign({},e),this.dialog=!0},openDeleteDialog:function(e){this.editedItem=Object.assign({},e),this.deleteDialog=!0},getcustomers:function(){this.$store.dispatch("getAllcustomers")},getBrandTypes:function(){var e=this;axios.get("brand-types").then((function(t){e.brandTypes=t.data}))},getSellerTypes:function(){var e=this;axios.get("seller-types").then((function(t){e.sellerTypes=t.data}))},getCities:function(){var e=this;axios.get("cities").then((function(t){e.cities=t.data}))},getUsers:function(){var e=this;axios.get("users").then((function(t){e.users=t.data}))},runFilters:function(){var e=this;this.fitleredCustomers=this.customers,Object.keys(this.searchQuery).map((function(t){e.searchQuery[t]&&(e.fitleredCustomers=e.fitleredCustomers.filter((function(s){return s[t]==e.searchQuery[t]})))}))}},created:function(){this.getUsers(),this.getCities(),this.getBrandTypes(),this.getSellerTypes(),this.runFilters()},computed:function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?u(s,!0).forEach((function(t){m(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},Object(n.b)({customers:"getcustomers"})),watch:{customers:function(e){this.fitleredCustomers=e}}},v=Object(r.a)(d,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",[s("v-row",[s("v-col",[s("v-card",{staticClass:"ma-5",attrs:{shaped:"",outlined:"",loading:e.loading}},[s("v-toolbar",{attrs:{flat:"",color:"secondary",dark:""}},[s("v-toolbar-title",[e._v("Πελάτες")]),e._v(" "),s("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e._v(" "),s("v-spacer"),e._v(" "),s("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:"",to:"customer"}},[e._v("Προσθηκη Πελατη")])],1),e._v(" "),s("v-card-title",[s("v-spacer"),e._v(" "),s("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Αναζήτηση","single-line":"","hide-details":"",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),s("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.fitleredCustomers,"sort-by":"name",search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[s("v-row",{staticClass:"px-5"},[s("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[s("v-autocomplete",{attrs:{items:e.users,label:"Πωλητής",clearable:"","item-text":"name","item-value":"id"},on:{input:e.runFilters},model:{value:e.searchQuery.user_id,callback:function(t){e.$set(e.searchQuery,"user_id",t)},expression:"searchQuery.user_id"}})],1),e._v(" "),s("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[s("v-autocomplete",{attrs:{items:e.brandTypes,clearable:"",label:"Μάρκα","item-text":"name","item-value":"id"},on:{input:e.runFilters},model:{value:e.searchQuery.brand_type_id,callback:function(t){e.$set(e.searchQuery,"brand_type_id",t)},expression:"searchQuery.brand_type_id"}})],1),e._v(" "),s("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[s("v-select",{attrs:{items:e.sellerTypes,clearable:"",label:"Τύπος","item-text":"name","item-value":"id"},on:{input:e.runFilters},model:{value:e.searchQuery.seller_type_id,callback:function(t){e.$set(e.searchQuery,"seller_type_id",t)},expression:"searchQuery.seller_type_id"}})],1),e._v(" "),s("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[s("v-select",{attrs:{items:e.cities,clearable:"",label:"Πόλη","item-text":"name","item-value":"id"},on:{input:e.runFilters},model:{value:e.searchQuery.city_id,callback:function(t){e.$set(e.searchQuery,"city_id",t)},expression:"searchQuery.city_id"}})],1)],1)]},proxy:!0},{key:"item.action",fn:function(t){var a=t.item;return[s("v-btn",{staticClass:"mx-0",attrs:{fab:"",dark:"","x-small":"",color:"secondary"},on:{click:function(t){return e.editItem(a)}}},[s("v-icon",{attrs:{small:""}},[e._v("mdi-eye")])],1),e._v(" "),s("v-btn",{staticClass:"mx-0",attrs:{fab:"",dark:"","x-small":"",color:"teal",to:"customer/"+a.id}},[s("v-icon",{attrs:{small:""}},[e._v("mdi-pencil")])],1),e._v(" "),s("v-btn",{staticClass:"mx-0",attrs:{fab:"",dark:"","x-small":"",color:"primary"},on:{click:function(t){return e.openDeleteDialog(a)}}},[s("v-icon",{attrs:{small:""}},[e._v("mdi-delete")])],1)]}}])}),e._v(" "),s("delete-customer-dialog",{attrs:{user:e.editedItem,deleteDialog:e.deleteDialog},on:{userDeleted:function(t){e.getcustomers(),e.snackbar=!0},closeDialog:function(t){e.deleteDialog=!1}}}),e._v(" "),s("edit-customer-dialog",{attrs:{user:e.editedItem,dialog:e.dialog},on:{closeDialog:function(t){e.dialog=!1}}}),e._v(" "),s("v-snackbar",{model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n          Η επιλογή σας αποθηκεύτηκε επιτυχώς\n          "),s("v-btn",{attrs:{color:"pink",text:""},on:{click:function(t){e.snackbar=!1}}},[e._v("κλεισιμο")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=v.exports},6:function(e,t,s){"use strict";var a=s(2);function r(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function l(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var o={props:{customer_id:Number},data:function(){return{loading:!1,snackbar:!1,valid:!1,nameRules:[function(e){return!!e||"Συμπληρώστε την επωνυμία του πελάτη."}],users:[],cities:[],brandTypes:[],sellerTypes:[],status:[{value:!1,text:"Ανενεργός"},{value:!0,text:"Ενεργός"}]}},methods:{getCustomer:function(){this.customer_id||this.$route.params.id?this.$store.dispatch("getSinglecustomer",this.customer_id||this.$route.params.id):this.$store.dispatch("getSinglecustomer",null)},saveCustomer:function(){var e=this;this.loading=!0,axios.post("customers",this.customer).then((function(t){e.loading=!1,e.snackbar=!0,e.$store.dispatch("getAllcustomers")}))},validate:function(){this.$refs.form.validate()&&this.saveCustomer()},getUsers:function(){var e=this;axios.get("users").then((function(t){e.users=t.data}))},getBrandTypes:function(){var e=this;axios.get("brand-types").then((function(t){e.brandTypes=t.data}))},getSellerTypes:function(){var e=this;axios.get("seller-types").then((function(t){e.sellerTypes=t.data}))},getCities:function(){var e=this;axios.get("cities").then((function(t){e.cities=t.data}))}},mounted:function(){this.getCustomer(),this.getUsers(),this.getCities(),this.getBrandTypes(),this.getSellerTypes()},computed:function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?r(s,!0).forEach((function(t){l(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):r(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},Object(a.b)({customer:"getcustomer"})),watch:{customer_id:function(e){this.$store.dispatch("getSinglecustomer",e)}}},i=s(0),c=Object(i.a)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-card",{attrs:{loading:e.loading}},[s("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(t){return t.preventDefault(),e.validate(t)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-card-text",[s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[s("v-text-field",{attrs:{rules:e.nameRules,label:"Επωνυμία"},model:{value:e.customer.name,callback:function(t){e.$set(e.customer,"name",t)},expression:"customer.name"}})],1),e._v(" "),s("v-col",{attrs:{cols:"12",sm:"3",md:"3"}},[s("v-text-field",{attrs:{label:"Α.Φ.Μ."},model:{value:e.customer.afm,callback:function(t){e.$set(e.customer,"afm",t)},expression:"customer.afm"}})],1),e._v(" "),s("v-col",{attrs:{cols:"12",sm:"3",md:"3"}},[s("v-text-field",{attrs:{label:"Δ.Ο.Υ."},model:{value:e.customer.doy,callback:function(t){e.$set(e.customer,"doy",t)},expression:"customer.doy"}})],1),e._v(" "),s("v-col",{attrs:{cols:"12",sm:"3",md:"3"}},[s("v-text-field",{attrs:{label:"Διακριτικό Όνομα"},model:{value:e.customer.display_name,callback:function(t){e.$set(e.customer,"display_name",t)},expression:"customer.display_name"}})],1),e._v(" "),s("v-col",{attrs:{cols:"12",sm:"3",md:"3"}},[s("v-text-field",{attrs:{label:"Υπεύθυνος"},model:{value:e.customer.responsible,callback:function(t){e.$set(e.customer,"responsible",t)},expression:"customer.responsible"}})],1),e._v(" "),s("v-col",{attrs:{cols:"12",sm:"3",md:"3"}},[s("v-text-field",{attrs:{label:"Τηλέφ. 1"},model:{value:e.customer.phone,callback:function(t){e.$set(e.customer,"phone",t)},expression:"customer.phone"}})],1),e._v(" "),s("v-col",{attrs:{cols:"12",sm:"3",md:"3"}},[s("v-text-field",{attrs:{label:"Τηλέφ. 2"},model:{value:e.customer.phone_2,callback:function(t){e.$set(e.customer,"phone_2",t)},expression:"customer.phone_2"}})],1),e._v(" "),s("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[s("v-text-field",{attrs:{label:"Email"},model:{value:e.customer.email,callback:function(t){e.$set(e.customer,"email",t)},expression:"customer.email"}})],1),e._v(" "),s("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[s("v-text-field",{attrs:{label:"Κινητό"},model:{value:e.customer.mobile,callback:function(t){e.$set(e.customer,"mobile",t)},expression:"customer.mobile"}})],1),e._v(" "),s("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[s("v-text-field",{attrs:{label:"FAX"},model:{value:e.customer.fax,callback:function(t){e.$set(e.customer,"fax",t)},expression:"customer.fax"}})],1),e._v(" "),s("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[s("v-text-field",{attrs:{label:"Επάγγελμα"},model:{value:e.customer.job,callback:function(t){e.$set(e.customer,"job",t)},expression:"customer.job"}})],1),e._v(" "),s("v-col",{attrs:{cols:"12",sm:"3",md:"3"}},[s("v-autocomplete",{attrs:{items:e.cities,label:"Πόλη","item-text":"name","item-value":"id"},model:{value:e.customer.city_id,callback:function(t){e.$set(e.customer,"city_id",t)},expression:"customer.city_id"}})],1),e._v(" "),s("v-col",{attrs:{cols:"12",sm:"5",md:"5"}},[s("v-text-field",{attrs:{label:"Διεύθυνση"},model:{value:e.customer.address,callback:function(t){e.$set(e.customer,"address",t)},expression:"customer.address"}})],1),e._v(" "),s("v-col",{attrs:{cols:"12",sm:"4",md:"2"}},[s("v-text-field",{attrs:{label:"Πιστωτικό Όριο","append-icon":"mdi-currency-eur"},model:{value:e.customer.limit,callback:function(t){e.$set(e.customer,"limit",t)},expression:"customer.limit"}})],1),e._v(" "),s("v-col",{attrs:{cols:"12",sm:"4",md:"3"}},[s("v-autocomplete",{attrs:{items:e.users,label:"Πωλητής","item-text":"name","item-value":"id"},model:{value:e.customer.user_id,callback:function(t){e.$set(e.customer,"user_id",t)},expression:"customer.user_id"}})],1),e._v(" "),s("v-col",{attrs:{cols:"12",sm:"4",md:"2"}},[s("v-select",{attrs:{items:e.status,label:"Κατάσταση","item-text":"text","item-value":"value"},model:{value:e.customer.active,callback:function(t){e.$set(e.customer,"active",t)},expression:"customer.active"}})],1),e._v(" "),s("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[s("v-autocomplete",{attrs:{items:e.brandTypes,label:"Μάρκα","item-text":"name","item-value":"id"},model:{value:e.customer.brand_type_id,callback:function(t){e.$set(e.customer,"brand_type_id",t)},expression:"customer.brand_type_id"}})],1),e._v(" "),s("v-col",{attrs:{cols:"12",sm:"6",md:"2"}},[s("v-select",{attrs:{items:e.sellerTypes,label:"Τύπος","item-text":"name","item-value":"id"},model:{value:e.customer.seller_type_id,callback:function(t){e.$set(e.customer,"seller_type_id",t)},expression:"customer.seller_type_id"}})],1)],1)],1)],1),e._v(" "),e.customer_id?e._e():s("v-card-actions",[s("v-spacer"),e._v(" "),s("v-btn",{staticClass:"mx-5 mb-5",attrs:{color:"primary",type:"submit"}},[e._v("Αποθηκευση")])],1)],1),e._v(" "),s("v-snackbar",{model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n    Η επιλογή σας αποθηκεύτηκε επιτυχώς\n    "),s("v-btn",{attrs:{color:"pink",text:""},on:{click:function(t){e.snackbar=!1}}},[e._v("κλεισιμο")])],1)],1)}),[],!1,null,null,null);t.a=c.exports}}]);